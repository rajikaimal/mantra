<!DOCTYPE html><html><!-- Built with spec-md --><head><meta charset="utf-8"><title>Mantra</title><link href="spec.css" rel="stylesheet"><link href="highlight.css" rel="stylesheet"></head><body><header><h1>Mantra</h1><section id="intro"><p><em>Working Draft &ndash; January 2016</em></p><p><strong>Introduction</strong></p><p>This is a Draft Specification for Mantra, an application architecture for Meteor created by <a href="https://kadira.io/">Kadira</a>. It helps developers to build highly maintanable, future proof Meteor apps.</p><p><strong>Copyright notice</strong></p><p>The MIT License (MIT)</p><p>Copyright (c) 2016 Kadira Inc. <hello@kadira.io></p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &ldquo;Software&rdquo;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED &ldquo;AS IS&rdquo;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p></section><div class="spec-toc"><ol><li><a href="#sec-Overview"><span class="spec-secid">1</span>Overview</a><ol><li><a href="#sec-What-s-inside-Mantra-"><span class="spec-secid">1.1</span>What&#x27;s inside Mantra?</a></li><li><a href="#sec-What-Mantra-is-not-"><span class="spec-secid">1.2</span>What Mantra is not?</a></li><li><a href="#sec-Why-a-Spec-"><span class="spec-secid">1.3</span>Why a Spec?</a></li><li><a href="#sec-Before-You-Read"><span class="spec-secid">1.4</span>Before You Read</a></li></ol></li><li><a href="#sec-Core-Components"><span class="spec-secid">2</span>Core Components</a><ol><li><a href="#sec-Core-Components.Server-Side"><span class="spec-secid">2.1</span>Server Side</a></li><li><a href="#sec-ES2015-Syntax-and-ES2015-Modules"><span class="spec-secid">2.2</span>ES2015 Syntax and ES2015 Modules</a></li><li><a href="#sec-React-as-the-UI"><span class="spec-secid">2.3</span>React as the UI</a></li><li><a href="#sec-Actions"><span class="spec-secid">2.4</span>Actions</a></li><li><a href="#sec-State-Management"><span class="spec-secid">2.5</span>State Management</a></li><li><a href="#sec-Containers"><span class="spec-secid">2.6</span>Containers</a></li><li><a href="#sec-Application-Context"><span class="spec-secid">2.7</span>Application Context</a></li><li><a href="#sec-Dependency-Injection"><span class="spec-secid">2.8</span>Dependency Injection</a><ol><li><a href="#sec-Configuring-Dependency-Injections"><span class="spec-secid">2.8.1</span>Configuring Dependency Injections</a></li></ol></li><li><a href="#sec-Routing-Component-Mounting"><span class="spec-secid">2.9</span>Routing &amp; Component Mounting</a></li><li><a href="#sec-Single-Entry-Point"><span class="spec-secid">2.10</span>Single Entry Point</a></li><li><a href="#sec-Libraries"><span class="spec-secid">2.11</span>Libraries</a></li><li><a href="#sec-Testing"><span class="spec-secid">2.12</span>Testing</a><ol><li><a href="#sec-UI-Testing"><span class="spec-secid">2.12.1</span>UI Testing</a></li></ol></li></ol></li><li><a href="#sec-Directory-Layout-Naming-Conventions"><span class="spec-secid">3</span>Directory Layout &amp; Naming Conventions</a><ol><li><a href="#sec-Directory-Layout-Naming-Conventions.Server-Side"><span class="spec-secid">3.1</span>Server Side</a></li><li><a href="#sec-Client-Side"><span class="spec-secid">3.2</span>Client Side</a><ol><li><a href="#sec-main-js"><span class="spec-secid">3.2.1</span>main.js</a></li><li><a href="#sec-actions"><span class="spec-secid">3.2.2</span>actions</a></li><li><a href="#sec-components"><span class="spec-secid">3.2.3</span>components</a></li><li><a href="#sec-containers"><span class="spec-secid">3.2.4</span>containers</a></li><li><a href="#sec-configs"><span class="spec-secid">3.2.5</span>configs</a></li><li><a href="#sec-libraries"><span class="spec-secid">3.2.6</span>libraries</a></li></ol></li></ol></li><li><a href="#sec-Future-Work"><span class="spec-secid">4</span>Future Work</a><ol><li><a href="#sec-Mantra-Modules"><span class="spec-secid">4.1</span>Mantra Modules</a></li><li><a href="#sec-Server-Side-Rendering-SSR-"><span class="spec-secid">4.2</span>Server Side Rendering (SSR)</a></li></ol></li><li><a href="#sec-Contributing-to-the-Mantra"><span class="spec-secid">5</span>Contributing to the Mantra</a></li><li><a href="#sec-Appendix-A-Prerequisite"><span class="spec-secid">6</span>Appendix A: Prerequisite</a><ol><li><a href="#sec-ES2015"><span class="spec-secid">6.1</span>ES2015</a></li><li><a href="#sec-React"><span class="spec-secid">6.2</span>React</a></li><li><a href="#sec-React-Containers"><span class="spec-secid">6.3</span>React Containers</a></li><li><a href="#sec-Meteor-Basics"><span class="spec-secid">6.4</span>Meteor Basics</a></li></ol></li></ol></div></header><section id="sec-Overview"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Overview">1</a></span>Overview</h2><p>Mantra is an application architecture for <a href="https://www.meteor.com/">Meteor</a>. With Mantra, we try to achieve two main goals.</p><p><strong>1. High Maintainability</strong></p><p>Maintainability is a key factor for success when working with a large team. We achieve this by unit testing every part of our app, while following standards for everything. Then it&rsquo;s easy to on&#8208;board new users and work with teams.</p><p><strong>2. Future Proof</strong></p><p>JavaScript is a land of choices. We have more than one best thing for each problem. It can be hard to tell what&rsquo;s the best solution now and what will change in the future.</p><p>Mantra relies on a set of core principles that will last for a long time. Then, we let others to change as needed.</p><section id="sec-What-s-inside-Mantra-"><h3><span class="spec-secid" title="link to this section"><a href="#sec-What-s-inside-Mantra-">1.1</a></span>What&#x27;s inside Mantra?</h3><ul><li>It has a modern React&#8208;based <strong>UI component</strong> layer. </li><li>It has a place to define business logic in your app. We call them <strong>actions</strong>.</li><li>State management is not provided by Mantra itself, but it allows you to use a wide variety of state managers including Meteor/Tracker, Redux, Rx.js Observables, Promises and nearly anything else.</li><li>It has a way to integrate both states and actions into UI components by composing containers.</li><li>It allows you to inject dependencies.</li><li>It helps you to unit test UI, actions and integrations (containers).</li><li>It has standards on directory layout, file naming and everything else. </li></ul></section><section id="sec-What-Mantra-is-not-"><h3><span class="spec-secid" title="link to this section"><a href="#sec-What-Mantra-is-not-">1.2</a></span>What Mantra is not?</h3><ul><li>It&rsquo;s not an application framework. An application framework takes cares of bundling, network transport, deployment, etc. Mantra uses Meteor as the application framework.</li><li>It&rsquo;s not a boilerplate, even though we have a directory structure. </li><li>It&rsquo;s not a code generator. We may have a code generation tool, but that&rsquo;s not a core part of Mantra.</li></ul></section><section id="sec-Why-a-Spec-"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Why-a-Spec-">1.3</a></span>Why a Spec?</h3><p>Mantra is an application architecture. There will be a lot of stakeholders for mantra including app developers, tool builders, tutorial authors and project managers, so it&rsquo;s very important to have a common standard everyone follows. That&rsquo;s what this specification does.</p></section><section id="sec-Before-You-Read"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Before-You-Read">1.4</a></span>Before You Read</h3><p>This specification is written in a simple language. However, you may feel more comfortable if you have a sound knowledge of the following areas.</p><ul><li>ES2015</li><li>React</li><li>React Containers</li><li>Meteor Basics (Pub/Sub, Tracker, ReactiveDict, etc.)</li></ul><p>Refer <a href="#sec-Appendix-A-Prerequisite">Appendix A</a> to learn more about above areas. </p></section></section><section id="sec-Core-Components"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Core-Components">2</a></span>Core Components</h2><p>Here are the core components of Mantra.</p><section id="sec-Core-Components.Server-Side"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Core-Components.Server-Side">2.1</a></span>Server Side</h3><p>Mantra focuses a lot on the client side, because that&rsquo;s where you write a lot of code. We allow client&#8208;side caches and connectors to interact with the server and remote data layers.</p><p>However, we have a set of standards on structuring the file layout in the server.</p><div class="spec-note">All the following Mantra components reside in the client side of your app.</div></section><section id="sec-ES2015-Syntax-and-ES2015-Modules"><h3><span class="spec-secid" title="link to this section"><a href="#sec-ES2015-Syntax-and-ES2015-Modules">2.2</a></span>ES2015 Syntax and ES2015 Modules</h3><p>We rely on different features of ES2015 and its module system. In order to use Mantra, you need to use <a href="https://forums.meteor.com/t/meteor-1-3-early-beta-now-available/14723">Meteor 1.3</a>, which comes with an implementation of the ES2015 module system.</p></section><section id="sec-React-as-the-UI"><h3><span class="spec-secid" title="link to this section"><a href="#sec-React-as-the-UI">2.3</a></span>React as the UI</h3><p>We use React as the UI (presentation) layer in Mantra. You should pass all the data, event handlers and library functions via props.</p><p>You could handle the React state inside a component, but that should not interact with the rest of your app. Therefore, Mantra highly recommends you avoid using states.</p><p>When writing your UI components, you can include any other React component. Here are a few places you can import React components:</p><ul><li>Other UI components you define in your app</li><li>UI components from NPM (like meterial&#8208;ui) Any Containers in your app (we&rsquo;ll talk about this in a moment)</li></ul><p>Any other thing to the component should be passed via props.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/components">Click here to see some UI components in Mantra</a></p></section><section id="sec-Actions"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Actions">2.4</a></span>Actions</h3><p>Actions are the place where you write the <strong>business logic</strong> in your app. This includes:</p><ul><li>Validations</li><li>State Management</li><li>Interacting with Remote Data Sources</li></ul><p>An action is a simple function that accepts the first argument as the whole <a href="#sec-Application-Context">application context</a> in your app. Other arguments usually come when invoking them from the UI or inside the container.</p><div class="spec-note">Inside an action, everything you do should be based on applications context and other arguments passed to the action. You should not require other modules or use Global variables inside actions or the module action stays.</div><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/actions">Click here to see some actions in Mantra</a></p></section><section id="sec-State-Management"><h3><span class="spec-secid" title="link to this section"><a href="#sec-State-Management">2.5</a></span>State Management</h3><p>In an app, we need to deal with different kinds of states. We can divide them into two different categories:</p><ol><li>Local State &ndash; State in the client&#8208;side app that will never be synced with a remote server (Errors, validation messages, current page)</li><li>Remote State &ndash; This is the state usually fetched from a remote server and synced with it.</li></ol><p>We have different solutions to manage states in our app, including:</p><ul><li>Meteor/MiniMongo (Remote State)</li><li>Tracker/ReactiveDict (Local State)</li><li>FlowRouter (Local State)</li><li>Redux (Local State)</li><li>GraphQL/Lokka (Remote State)</li><li>GraphQL/Relay (Remote State)</li><li>Falcor (Remote State)</li></ul><p>This is the place where a lot of innovation is happening in the JavaScript community. So, Mantra is flexible when it comes to state management. You can use anything you want.</p><p>For example, you can use following for your app when starting:</p><ul><li>Meteor/MiniMongo (Remote State)</li><li>Tracker/ReactiveDict (Local State)</li><li>FlowRouter (Local State)</li></ul><p>Later on you can move into different solutions.</p><div class="spec-note">However, Mantra enforces a few rules when managing your states.</div><ul><li>Any write operations to states should be done inside an action</li><li>You can read states in both actions and containers</li><li>You should not read or write into states directly inside UI components. UI components should know nothing about states in your app.</li></ul><p>See the following links for some sample usage of states:</p><ul><li><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/containers/newpost.js#L8">Reading from local state &ndash; inside a container</a></li><li><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/actions/posts.js#L7">Writing into local state &ndash; inside an action</a></li><li><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/containers/postlist.js#L8">Reading from a remote state &ndash; inside a container</a></li></ul></section><section id="sec-Containers"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Containers">2.6</a></span>Containers</h3><p>Containers are the integration layer in Mantra. They do:</p><ul><li>pass states into UI components</li><li>pass actions into UI components</li><li>pass any configuration item or library function in the application context</li></ul><p>A container is a React component, but you are not directly creating it. You should not use JSX inside the container module.</p><p>Containers are normally composed using a library like <a href="https://github.com/kadirahq/react-komposer">react&#8208;komposer</a>. It supports different data sources, including Meteor/Tracker, Promises, Rx.js Observable and nearly anything else.</p><p>Normally, inside a container you need to write the following functions:</p><ul><li>composer functions to get data from states</li><li>mapper function to get data from dependency injection layer and map it to props</li></ul><p>We have some rules for this:</p><ul><li>All these function should be exported from the container module</li><li>Composer functions should only use variables coming via props</li><li>The mapper function should only use variables coming as arguments. It has access to your whole application context and actions.</li></ul><div class="spec-note">If you need to pass the application context to a component, do it via props using a mapper.</div><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/containers">Click here to see some containers in Mantra</a></p></section><section id="sec-Application-Context"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Application-Context">2.7</a></span>Application Context</h3><p>Application Context is available to all the actions and containers, so this is place for shared variables in your app. These include:</p><ul><li>Meteor namespace</li><li>Meteor Collections</li><li>LocalState</li><li>FlowRouter</li><li>Any other Meteor package</li><li>Redux Stores</li><li>Lokka Client</li><li>Rest Client</li></ul><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/configs/context.js">Click here for a sample application context in Mantra</a></p></section><section id="sec-Dependency-Injection"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Dependency-Injection">2.8</a></span>Dependency Injection</h3><p>Mantra uses dependency injection to isolate different parts of your app including UI components and actions.</p><p>We use a project called <a href="https://github.com/kadirahq/react-simple-di"><code>react-simple-di</code></a> that uses React Context behind the scene. It accepts both application context and actions as dependencies. </p><p>Once configured, application context will be injected into each action. That&rsquo;s the first argument of an action. So, you don&rsquo;t need pass the application context manually.</p><section id="sec-Configuring-Dependency-Injections"><h4><span class="spec-secid" title="link to this section"><a href="#sec-Configuring-Dependency-Injections">2.8.1</a></span>Configuring Dependency Injections</h4><p>Dependencies will be injected to the top&#8208;level components in your app. This could be a Layout component.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/configs/routes.jsx#L13">Click here for a sample configuration</a></p></section></section><section id="sec-Routing-Component-Mounting"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Routing-Component-Mounting">2.9</a></span>Routing &amp; Component Mounting</h3><div class="spec-note">Here, when referring to components, we will consider both containers and UI components.</div><p>We normally use a Router to mount components into the UI. There could be multiple solutions (for example, FlowRouter and ReactRouter).</p><p>The Router&rsquo;s only functionality in Mantra is to mount components to the UI. It&rsquo;s just a tool.</p><p>Click <a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/configs/routes.jsx">here</a> to see how you can use FlowRouter and React Layout to mount components.</p></section><section id="sec-Single-Entry-Point"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Single-Entry-Point">2.10</a></span>Single Entry Point</h3><p>In Mantra, we want the app to be predictable. Thereore, there is only a single entry point in your app. Usually, it will load routes.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/main.js">Click here for an example entry point.</a></p><div class="spec-note">For the server, you can have a separate entry point.</div></section><section id="sec-Libraries"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Libraries">2.11</a></span>Libraries</h3><p>Every app has some utility functions to do different tasks. You can also get them via NPM. In Mantra, libraries should be provided to any part of your app via the application context. For that, we can have a field called <code>libs</code> that contains all of them.</p></section><section id="sec-Testing"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Testing">2.12</a></span>Testing</h3><p>Testing is a core part of Mantra. Mantra helps you to test every part of your application. Rules we&rsquo;ve enforced help you to write those tests. You can use familiar tools like Mocha, Chai and Sinon to do testing.</p><p>With Mantra, you can unit test three core parts in your app:</p><ul><li>UI components - <a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/components/post/tests/index.js">Example</a></li><li>Actions - <a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/actions/tests/posts.js">Example</a></li><li>Container composers and deps mappers - <a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/containers/tests/post.js">Example</a></li></ul><section id="sec-UI-Testing"><h4><span class="spec-secid" title="link to this section"><a href="#sec-UI-Testing">2.12.1</a></span>UI Testing</h4><p>For the UI testing we use <a href="https://github.com/airbnb/enzyme">enzyme</a>. Click here to see some sample test cases.</p></section></section></section><section id="sec-Directory-Layout-Naming-Conventions"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Directory-Layout-Naming-Conventions">3</a></span>Directory Layout &amp; Naming Conventions</h2><p>In Mantra, we enforce a common directory structure. That&rsquo;s the core part of the maintainability of any app.</p><p>Here&rsquo;s more information about Mantra&rsquo;s directory structure.</p><section id="sec-Directory-Layout-Naming-Conventions.Server-Side"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Directory-Layout-Naming-Conventions.Server-Side">3.1</a></span>Server Side</h3><p>On the server side we have three main directories. They are:</p><pre><code>* configs
* methods
* publications
</code></pre><p>Other than that, we have a single js file called <code>main.js</code> that you can use to initialize any configuration in the <code>configs</code> directory.</p><p>In the method and publications directory, you can create a file for each feature and put methods/publications inside them.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/server">Click here to see more</a></p><p>When naming publications and methods, they should follow this naming convention:</p><pre><code>[filename].[name]
</code></pre><p>For example, if we need to create a method called <code>create</code> inside the <code>posts</code> file, we name it <code>create.posts</code>.</p></section><section id="sec-Client-Side"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Client-Side">3.2</a></span>Client Side</h3><p>All the client&#8208;side files are put into the <code>client</code> directory under following directory layout.</p><pre><code>* actions
* components
* containers
* configs
* libraries
* main.js
</code></pre><section id="sec-main-js"><h4><span class="spec-secid" title="link to this section"><a href="#sec-main-js">3.2.1</a></span>main.js</h4><p><code>main.js</code> is the entry point of the app and it will initialize the app. Usually, it will load routes.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/blob/master/client/main.js">Click here for a sample main.js file.</a></p></section><section id="sec-actions"><h4><span class="spec-secid" title="link to this section"><a href="#sec-actions">3.2.2</a></span>actions</h4><p>This directory contains all the actions in our app. Here&rsquo;s a sample directory layout inside it.</p><pre><code>* posts.js
* index.js
* tests
    - posts.js
</code></pre><p><code>posts.js</code> is an ES2015 module that exports a JavaScript object with actions. For example, here&rsquo;s a simple action module.</p><pre><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  create({Meteor, LocalState, FlowRouter}, title, content) {
    <span class="hljs-comment">//...</span>
  },

  clearErrors({LocalState}) {
    <span class="hljs-comment">//...</span>
  }
};
</code></pre><p>Then, in the <code>index.js</code>, we import all the action modules and aggregate all actions.</p><pre><code><span class="hljs-keyword">import</span> posts <span class="hljs-keyword">from</span> <span class="hljs-string">'./posts'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  posts
};
</code></pre><p>In the tests directory, we have tests for each action module. </p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/actions">Click here to see the directory layout for actions</a></p></section><section id="sec-components"><h4><span class="spec-secid" title="link to this section"><a href="#sec-components">3.2.3</a></span>components</h4><p>Components contain the whole UI of our app. It has a directory layout like this:</p><pre><code>* layouts.main
    - index.jsx
    - style.css
    - tests
        + index.jsx
* post
    - index.jsx
    - style.css
    - tests
        + index.jsx
</code></pre><p>A single directory should expose a single UI component. It&rsquo;s acceptable to have more than one component inside the directory, but they should be helping components and you should not access them from the outside.</p><p>You can have CSS files and other resources inside each UI component directory.</p><p>Just like in actions, we have a tests directory that contains our tests.</p><p>Mantra enforces a flat directory structure where you can name directories with dots(.) like <code>layouts.main</code>.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/components">Click here to see the directory layout for components.</a></p></section><section id="sec-containers"><h4><span class="spec-secid" title="link to this section"><a href="#sec-containers">3.2.4</a></span>containers</h4><p>This directory contains set of modules, with each module representing a single container. Containers should follow a flat directory layout and use dot(.) to group common components.</p><p>Here&rsquo;s a common directory layout:</p><pre><code>* post.js
* postlist.js
* tests
    - post.js
    - postlist.js
</code></pre><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/containers">Click here to see the directory layout for containers.</a></p></section><section id="sec-configs"><h4><span class="spec-secid" title="link to this section"><a href="#sec-configs">3.2.5</a></span>configs</h4><p>This directory contains all the configurations we need to invoke in our app. They should not invoke themselves, but they should export a function to access from the <code>client/main.js</code> and load it.</p><p>Usually, this is the place to configure routes and initialize the application context.</p><p><a href="https://github.com/mantrajs/mantra-sample-blog-app/tree/master/client/configs">Click here to see the directory layout for configs.</a></p></section><section id="sec-libraries"><h4><span class="spec-secid" title="link to this section"><a href="#sec-libraries">3.2.6</a></span>libraries</h4><p>This directory contains a set of modules that have a set of utility functions. These modules should be provided to the app via the application context, so you need to require these modules from the application context. </p></section></section></section><section id="sec-Future-Work"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Future-Work">4</a></span>Future Work</h2><p>Mantra is a draft and there may be a lot of missing pieces and improvements we can do. We&rsquo;ve currently identified following features are important to Mantra and will be available in near future.</p><section id="sec-Mantra-Modules"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Mantra-Modules">4.1</a></span>Mantra Modules</h3><p>Mantra modules help you to put actions, UI components and containers related to common functionality into a single place. You can publish them to NPM and share with others.</p><div class="spec-note">We don&rsquo;t have a proper way to do this now. Try to do experiments and <a href="https://github.com/kadirahq/mantra/issues/3">share</a> your experience with us.</div></section><section id="sec-Server-Side-Rendering-SSR-"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Server-Side-Rendering-SSR-">4.2</a></span>Server Side Rendering (SSR)</h3><p>It&rsquo;s extremely possible to do SSR with Mantra. We are trying to this with tool agnostic manner, but the reference implementation will be based on FlowRouter SSR.</p></section></section><section id="sec-Contributing-to-the-Mantra"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Contributing-to-the-Mantra">5</a></span>Contributing to the Mantra</h2><p>This is a draft specification of Mantra.</p><p>To get started with Mantra try following our sample app. It uses most of the features in Mantra.</p><ul><li><a href="http://mantra-sample-blog.meteor.com/">Access It Online</a></li><li><a href="https://github.com/mantrajs/mantra-sample-blog-app">Clone It</a></li></ul><p>We need your input on improving Mantra, so try using Mantra and let&rsquo;s <a href="https://github.com/kadirahq/mantra/issues">discuss</a> on how we can improve Mantra.</p><ul><li><a href="https://github.com/kadirahq/mantra">GitHub Repo</a></li></ul></section><section id="sec-Appendix-A-Prerequisite"><h2><span class="spec-secid" title="link to this section"><a href="#sec-Appendix-A-Prerequisite">6</a></span>Appendix A: Prerequisite</h2><p>These resources will help you understand Mantra very clearly.</p><section id="sec-ES2015"><h3><span class="spec-secid" title="link to this section"><a href="#sec-ES2015">6.1</a></span>ES2015</h3><p>ES2015 is the standard version of JavaScript for 2015. It&rsquo;s not fully implemented by all the browers or server side enviroments. But, using transpilers like <a href="https://babeljs.io/">babel</a>, we could use E2015 today.</p><div class="spec-note">Meteor has built in support for ES2015</div><p>ES2015 is the best thing happen to JavaScript. It introduce a lot of features and fixes a lot of common issues.</p><ul><li><a href="https://babeljs.io/docs/learn-es2015/">Learn ES2015 Basics</a></li><li><a href="https://babeljs.io/repl/">Try ES2015 Syntax</a></li></ul></section><section id="sec-React"><h3><span class="spec-secid" title="link to this section"><a href="#sec-React">6.2</a></span>React</h3><p>React is a UI framework based on JavaScript. Basically, you create UI inside JavaScript. At first, <strong>it feels weird</strong>. But you&rsquo;ll find it very interesting once you learn the basics.</p><p>Just forget about what you already know about HTML for a moment, learn React. Then rethink. Here are some resources:</p><ul><li><a href="https://facebook.github.io/react/docs/tutorial.html">Official Tutorial</a></li><li><a href="https://scotch.io/tutorials/learning-react-getting-started-and-concepts">Getting Started Tutorial at Scotch.io</a></li><li><a href="https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca">React Components, Elements, and Instances</a></li></ul></section><section id="sec-React-Containers"><h3><span class="spec-secid" title="link to this section"><a href="#sec-React-Containers">6.3</a></span>React Containers</h3><p>Now, we rarely use states in a React components. Instead, we accept data via props. React&rsquo;s <a href="https://medium.com/@joshblack/stateless-components-in-react-0-14-f9798f8b992d">stateless components</a> make it very easy.</p><p>Then, we compose React containers to fetch data from different sources and load them into UI components. Projects like <a href="https://github.com/kadirahq/react-komposer">react&#8208;komposer</a> make it simple. Checkout following article for more information:</p><ul><li><a href="https://voice.kadira.io/let-s-compose-some-react-containers-3b91b6d9b7c8#.my9ynz9e2">Let&rsquo;s Compose Some React Containers</a></li></ul></section><section id="sec-Meteor-Basics"><h3><span class="spec-secid" title="link to this section"><a href="#sec-Meteor-Basics">6.4</a></span>Meteor Basics</h3><p>You need to have better understanding of Meteor. For that follow Meteor&rsquo;s <a href="https://www.meteor.com/tutorials/react/creating-an-app">official tutorial</a>.</p><div class="spec-note">Mantra use some of the above technologies bit differently. For an example, Meteor&rsquo;s react tutorial suggest to use a mixin to access Mongo collection data. But Mantra uses a container, which is the modern way to use React. </div></section></section><footer>Written in <a href="http://leebyron.com/spec-md/" target="_blank">Spec Markdown</a>.</footer></body></html>